@using TennisTour.UI.AuthProviders;
<MudNavMenu>
    <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
    <MudNavLink Href="tournaments" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.List">Tournaments</MudNavLink>
	<AuthorizeView>
		<Authorized>
            <MudNavLink Href="myProfile" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Settings">My Profile</MudNavLink>
            <MudNavLink Href="myFavorites" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Favorite">My Favorites</MudNavLink>
            <MudDivider DividerType="DividerType.Middle" Class="my-3" />
            <MudNavLink OnClick="Logout" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Logout">Logout</MudNavLink>
		</Authorized>
		<NotAuthorized>
            <MudDivider DividerType="DividerType.Middle" Class="my-3" />
			<MudNavLink Href="login" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Login">Login</MudNavLink>
			<MudNavLink Href="register" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.AppRegistration">Register</MudNavLink>
		</NotAuthorized>
	</AuthorizeView>
</MudNavMenu>

@code {
	@inject NavigationManager NavigationManager;
	[Inject]
	private AuthenticationStateProvider AuthenticationStateProvider { get; set; }

	async void Logout()
	{
		await ((UiAuthStateProvider)AuthenticationStateProvider).Logout();
		NavigationManager.NavigateTo("/");
	}
}
